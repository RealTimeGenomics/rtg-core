<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <!-- Give the page a name -->
    <title>__TITLE__</title>
    <!-- Assign XML string to variable named data -->
    <script type="text/javascript">
      var data = "__DATA__";
    </script>
    <link rel="stylesheet" type="text/css" href="rtg.css"/>
  </head>
  <body>
    <div id="dheader"><a id="lheader" href="http://www.realtimegenomics.com"><h1>__TITLE__</h1></a></div>
<div>
    <script type="text/javascript">
      document.body.parentNode.style.height = "100%";
      document.body.style.height = "600px";
      document.body.style.margin = "0px";
      
var n=null;
function ha(){var f=document,a=f.createElement("style");a.type="text/css";a.textContent=".svgGenomeWheel svg{position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;cursor:default}.contentSearchBoxCell{display:table-cell;vertical-align:middle;padding-right:6px}.contentSearchBoxLoadingCell{padding-top:2px}.contentSearchBoxInput{border:0;display:inline-block}.contentSearchBoxMatch{color:gray;margin:2px;display:inline-block}.contentSearchBoxView{display:table;font-size:11px;font-family:Lucida Grande,Verdana,sans-serif;-webkit-border-radius:4px;-moz-border-radius:4px;-ms-border-radius:4px;-o-border-radius:4px;border-radius:4px;border:1px solid #BBB;background-color:white}.contentSearchBoxButtonCell svg{opacity:.5}.contentSearchBoxButtonCell:hover svg{opacity:1}.contextMenu{display:block;-webkit-border-radius:5px;-moz-border-radius:5px;-ms-border-radius:5px;-o-border-radius:5px;border-radius:5px;background-color:white;position:absolute;-webkit-box-shadow:rgba(0,0,0,0.2) 0 12px 12px 0;-moz-box-shadow:rgba(0,0,0,0.2) 0 12px 12px 0;-ms-box-shadow:rgba(0,0,0,0.2) 0 12px 12px 0;-o-box-shadow:rgba(0,0,0,0.2) 0 12px 12px 0;box-shadow:rgba(0,0,0,0.2) 0 12px 12px 0;border-width:1px;border-style:solid;border-top-color:hsl(0,0%,90%);border-right-color:hsl(0,0%,90%);border-bottom-color:hsl(0,0%,90%);border-left-color:hsl(0,0%,90%);padding-top:4px;padding-bottom:4px}.contextMenuItem{text-align:left;display:block;width:100%;font-family:Lucida Grande,Verdana,sans-serif;font-size:14px;border-top-width:1px;border-top-style:solid;border-top-color:transparent;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:transparent;padding-left:20px;padding-right:20px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box;cursor:default}.contextMenuItemEnabled:hover{background-color:black;background:-webkit-linear-gradient(hsl(230,92%,70%),hsl(230,92%,60%));background:-moz-linear-gradient(hsl(230,92%,70%),hsl(230,92%,60%));background:-ms-linear-gradient(hsl(230,92%,70%),hsl(230,92%,60%));background:-o-linear-gradient(hsl(230,92%,70%),hsl(230,92%,60%));background:linear-gradient(hsl(230,92%,70%),hsl(230,92%,60%));border-top-color:hsl(230,82%,65%);border-bottom-color:hsl(230,84%,55%);color:white}.contextMenuItemEnabled{color:black}.contextMenuItemDisabled{color:gray}.contextMenu hr{margin-top:4px;margin-bottom:4px;border-top-color:white;border-top-style:solid;border-left-style:solid;border-left-color:white;border-right-color:white;border-right-style:solid;border-bottom-style:solid;border-bottom-color:hsl(0,0%,90%)}.genomeWheelWidgetContainer{padding:10px;width:100%;height:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box}.genomeWheelWidgetContent{padding:10px;-webkit-border-radius:4px;-moz-border-radius:4px;-ms-border-radius:4px;-o-border-radius:4px;border-radius:4px;margin-left:auto;margin-right:auto;width:50%;background-color:black;background:-webkit-linear-gradient(hsl(200,100%,33%),hsl(205,100%,26%));background:-moz-linear-gradient(hsl(200,100%,33%),hsl(205,100%,26%));background:-ms-linear-gradient(hsl(200,100%,33%),hsl(205,100%,26%));background:-o-linear-gradient(hsl(200,100%,33%),hsl(205,100%,26%));background:linear-gradient(hsl(200,100%,33%),hsl(205,100%,26%))}.genomeWheelWidgetError{color:white;font-size:12px;font-family:Menlo,monospace;margin-bottom:10px}.genomeWheelWidgetOmnibox{display:block;width:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box;resize:vertical;margin-bottom:10px}.genomeWheelWidgetInstructions{display:table-cell;width:100%;color:white;font-size:12px;font-family:Helvetica,Arial,sans-serif}";f.body.appendChild(a)}
function ia(){ha()}document.body?ha():window.addEventListener("load",ia,!1);function ja(f,a){for(var b=0,c=f.length-1;b<=c;){var g=Math.floor((b+c)/2),e=f[g],d=a(e);if(d<0)c=g-1;else if(d>0)b=g+1;else return e}return n}function ka(f,a){for(var b=0,c=f.length-1;b<=c;){var g=Math.floor((b+c)/2),e=a(f[g]);if(e<0)c=g-1;else if(e>0)b=g+1;else return g}return-b-1}function F(f){for(var a={x:0,y:0};f;)f.offsetLeft&&(a.x+=f.offsetLeft),f.offsetTop&&(a.y+=f.offsetTop),f=f.offsetParent;return a}
function H(f){for(var a=/^translateX\((-?\d+)px\)$/,b={x:0,y:0};f;){if(f.nodeName!="body"||navigator.userAgent.indexOf("iPad")<0)f.scrollLeft&&(b.x+=f.scrollLeft),f.scrollTop&&(b.y+=f.scrollTop);if(f.style){var c=f.style;if(c.webkitTransform)(c=a.exec(c.webkitTransform))&&(b.x-=parseFloat(c[1]));else if(c=c.getPropertyValue("-moz-transform"))(c=a.exec(c))&&(b.x-=parseFloat(c[1]))}f=f.parentNode}return b};function I(){this.beginPath()}I.prototype.beginPath=function(){this.result="";this.y=this.x=n};I.prototype.closePath=function(){this.result.length&&(this.result+="Z")};I.prototype.moveTo=function(f,a){this.result+=(this.result.length?"L":"M")+f+","+a;this.x=f;this.y=a};
I.prototype.arcTo=function(f,a,b,c,g){if(g<0)throw"INDEX_SIZE_ERR";this.result.length||this.moveTo(f,a);var e=this.x,d=this.y,k=Math.sqrt((b-e)*(b-e)+(c-d)*(c-d)),i=Math.sqrt((f-e)*(f-e)+(a-d)*(a-d)),j=Math.sqrt((b-f)*(b-f)+(c-a)*(c-a)),k=g*Math.tan(Math.PI/2-Math.acos((j*j+i*i-k*k)/(2*j*i))/2),o=f+(b-f)*(k/j),j=a+(c-a)*(k/j),b=1-Math.floor((Math.atan2(d-a,e-f)-Math.atan2(c-a,b-f)%(Math.PI*2)+Math.PI*2)%(Math.PI*2)/Math.PI);this.moveTo(f-(f-e)*(k/i),a-(a-d)*(k/i));this.result+="A"+g+","+g+",0,0,"+
b+","+o+","+j;this.x=o;this.y=j};I.prototype.arc=function(f,a,b,c,g,e){if(b<0)throw"INDEX_SIZE_ERR";var c=(c%(Math.PI*2)+Math.PI*2)%(Math.PI*2),g=(g%(Math.PI*2)+Math.PI*2)%(Math.PI*2),d=f+b*Math.cos(c),k=a+b*Math.sin(c);f+=b*Math.cos(g);a+=b*Math.sin(g);var i=!e?1:0,c=g>=c?g-c>Math.PI^e?1:0:g-c+Math.PI+Math.PI>Math.PI^e?1:0;this.moveTo(d,k);this.result+="A"+b+","+b+",0,"+c+","+i+","+f+","+a;this.x=f;this.y=a};I.prototype.toString=function(){return this.result};function la(f,a,b){function c(h,b){if(b==n)return n;var a=typeof b;if(a=="string")return a={parent:h,value:b},A[A.length]=a;else if(a=="object"&&b.length===2)return a={parent:h,value:b},a.left=c(a,b[0]),a.right=c(a,b[1]),N[N.length]=a;throw"invalid value: "+b;}function g(){m>=0.5?(R.parentNode&&y.removeChild(R),J.parentNode||y.appendChild(J)):(J.parentNode&&y.removeChild(J),R.parentNode||y.appendChild(R))}function e(h){E=n;Z=!1;N=[];A=[];S=[];aa={};W={};ba=c(n,h);y&&r.removeChild(y);y=document.createElementNS("http://www.w3.org/2000/svg",
"g");y.style.fontFamily=s;y.style.fontSize=x+"px";r.insertBefore(y,r.firstChild);J=document.createElementNS("http://www.w3.org/2000/svg","g");R=document.createElementNS("http://www.w3.org/2000/svg","g");if(A.length>0){L=k/A.length;for(var h=0,b=A.length;h<b;h++){var a=A[h];a.a=L*h;a.count=1;a.depth=0;var e=a.value.split("_")[0],d;aa.hasOwnProperty(e)?d=aa[e]:(d={name:e},S[S.length]=d,aa[e]=d);a.group=d}h=0;for(b=N.length;h<b;h++){var a=N[h],f=a.left,w=a.right;a.a=(f.a+w.a)/2;a.count=f.count+w.count;
a.depth=Math.max(f.depth,w.depth)+1;W.hasOwnProperty(a.depth)?e=W[a.depth]:(e=[],W[a.depth]=e);e[e.length]=a;a.group=f.group!==n&&f.group==w.group?f.group:n}S.sort(function(h,a){return h.name<a.name?-1:h.name>a.name?1:0});h=0;for(b=S.length;h<b;h++)d=S[h],d.q=h,d.color="hsl("+(d.q/b*256+256/3)%256+", 80%, 50%)";C=t*(ba.depth+1)+u;A.length>2&&(C=Math.max(C,x/2/Math.tan(L/2)));X=C-u;O=X/(ba.depth+1);e=new I;f=x/2-1;h=w=0;for(b=A.length;h<b;h++){var a=A[h],z=a.a;d=document.createElementNS("http://www.w3.org/2000/svg",
"text");d.textContent=a.value;d.setAttribute("x",C);d.setAttribute("y",f);d.setAttribute("transform","rotate("+z/Math.PI*180+")");d.style.fill=a.group.color;a.view=d;y.appendChild(d);w=Math.max(w,a.n=d.getBBox().width);J.appendChild(d);var i=C,j=i+a.n;d=Math.atan2(f,i);var P=z-d,v=z+d,B=Math.atan2(f,j),M=z+B;z-=B;e.beginPath();e.arc(0,0,i,P,v,!1);e.arc(0,0,j,M,z,!0);e.closePath();d=document.createElementNS("http://www.w3.org/2000/svg","path");d.setAttribute("d",e.toString());d.style.fill=a.group.color;
a.o=d;R.appendChild(d)}G=(C+w+u)*2;q=l=0;m=o/G;p=0;y.setAttribute("transform","translate("+l+", "+q+") scale("+m+") rotate("+p/Math.PI*180+")");g();i=Math.max(1,Math.min(x/2,G/o))/2;h=0;for(b=N.length;h<b;h++){var a=N[h],f=a.left,w=a.right,j=X-O*f.depth,D=X-O*a.depth,Y=X-O*w.depth;d=Math.atan2(i,D-i);var P=f.a-d,V=a.a,v=w.a+d,B=Math.atan2(i,Y-i),M=w.a+B,z=w.a-B,B=Math.atan2(i,D+i),T=w.a-B,U=f.a+B,K=Math.atan2(i,j-i),Q=f.a+K,K=f.a-K;e.beginPath();k-(w.a-f.a)>d+d?e.arc(0,0,D-i,P,v,!1):(e.arc(0,0,D-
i,P,V,!1),e.arc(0,0,D-i,V,v,!1));e.arc(0,0,Y-i,M,z,!0);w.a-f.a>B+B?e.arc(0,0,D+i,T,U,!0):e.arc(0,0,D+i,T,U,!1);e.arc(0,0,j-i,Q,K,!0);e.closePath();d=document.createElementNS("http://www.w3.org/2000/svg","path");d.setAttribute("d",e.toString());d.style.fill=a.group?a.group.color:"hsl(0, 0%, 50%)";a.view=d;y.appendChild(d)}}}if(!f)throw"parent not specified "+f;if(a<=0)throw"invalid width";if(b<=0)throw"invalid height";var d=this,k=Math.PI*2,i=a/2,j=b/2,o=Math.min(a,b),x=10,t=10,u=3,s="Helvetica, Arial, sans-serif",
v=document.createElement("div");v.classList.add("svgGenomeWheel");v.style.position="relative";v.style.width=a+"px";v.style.height=b+"px";v.style.scroll="auto";v.style.overflow="hidden";d.view=v;f.appendChild(v);var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("version","1.1");r.setAttribute("width",a+"px");r.setAttribute("height",b+"px");r.setAttribute("viewBox",-i+" "+-j+" "+a+" "+b);r.style.left="0px";r.style.top="0px";r.style.width=a+"px";r.style.height=b+"px";
d.m=r;v.appendChild(r);var h=document.createElement("div");h.style.position="absolute";h.style.left="0px";h.style.top="0px";h.style.width=a+"px";h.style.height=b+"px";h.style.webkitUserSelect="none";h.style.A="none";h.style.J="none";d.h=h;v.appendChild(h);var y=n,J=n,R=n,L,C,X,O,G,l,q,m,p,B=n,T=n,U=n,V=n,E=n,Z=!1,w=n,z=n,P=n,Y=n,M=n,K=n,D=n,Q=n,ca=n,da=n,ea=n,fa=n,ga=n,ba,N,A,S,aa,W;this.find=function(h){var a=[];if(h){var b=n;try{b=RegExp(h,"i")}catch(c){}if(b)for(var h=Math.max(1,o/G),d=i-G*h/2,
e=0,f=A.length;e<f;e++){var g=A[e];b.test(g.value)&&(a[a.length]={x:d,y:0,s:h,r:(k-g.a)/Math.PI*180})}}b=ka(a,function(h){var a=((k-p)%k+k)%k,h=k-h.r/180*Math.PI;return a<h?-1:a>h?1:0});b<0&&(b=-(b+1));b>=a.length&&(b=0);return{b:a,position:b}};this.g=function(){return{x:l,y:q,s:m,r:(p/Math.PI*180%360+360)%360}};this.f=function(h){l=h.x;q=h.y;m=h.s;p=h.r/180*Math.PI;y.setAttribute("transform","translate("+l+", "+q+") scale("+m+") rotate("+p/Math.PI*180+")");g()};this.setData=e;h.addEventListener("contextmenu",
function(h){return d.oncontextmenu?(h.preventDefault(),h.returnValue=!1):!0},!1);f.ownerDocument.body.addEventListener("click",function(){d.e&&d.e()},!1);f.ownerDocument.body.addEventListener("contextmenu",function(a){a.srcElement!=h&&d.e&&d.e()},!1);f.ownerDocument.body.addEventListener("mouseup",function(){ga&&!((new Date).getTime()-ga<500)&&d.e&&d.e()},!1);h.onmousedown=function(a){if(a.button==2)return h.onmouseup.apply(this,[a]),d.oncontextmenu?(ga=(new Date).getTime(),a.preventDefault(),a.returnValue=
!1,setTimeout(function(){d.oncontextmenu(a)},0),!1):!0;else{Z=!0;B=l;T=q;U=m;V=p;var b=F(h),c=H(h),e=a.clientY-(b.y-c.y)-j;w=a.clientX-(b.x-c.x)-i;z=e;h.style.cursor="move";return!1}};h.onmouseup=function(a){Z=!1;var b=F(h),c=H(h),d=a.clientY-(b.y-c.y)-j;P=a.clientX-(b.x-c.x)-i;Y=d;b=G*m/2;a=Math.abs(i-b);b=Math.abs(j-b);l=Math.min(a,Math.max(-a,l));q=Math.min(b,Math.max(-b,q));y.setAttribute("transform","translate("+l+", "+q+") scale("+m+") rotate("+p/Math.PI*180+")");g();h.style.cursor="default";
V=U=T=B=n};h.onmouseout=function(a){h.onmouseup.apply(this,[a])};h.onclick=function(h){var a=P-w,b=Y-z;if(Math.sqrt(a*a+b*b)<5&&E&&d.onclick){var c=E,e=E.value;setTimeout(function(){d.onclick(e,c,h)},0)}};h.onmousemove=function(a){a.preventDefault();a.returnValue=!1;var b=F(h),c=H(h),d=a.clientX-(b.x-c.x)-i,b=a.clientY-(b.y-c.y)-j;if(Z){l=B;q=T;m=U;p=V;f=((Math.atan2(b-q,d-l)-p)%k+k)%k;a=f-((Math.atan2(z-q,w-l)-p)%k+k)%k;l+=d-w;q+=b-z;var c=l-d,e=q-b;l=d+c*Math.cos(a)-e*Math.sin(a);q=b+c*Math.sin(a)+
e*Math.cos(a);p+=a;y.setAttribute("transform","translate("+l+", "+q+") scale("+m+") rotate("+p/Math.PI*180+")");g()}else{a=n;if(A.length>0){var d=(d-l)/m,b=(b-q)/m,f=((Math.atan2(b,d)-p)%k+k)%k,c=Math.sqrt(d*d+b*b);if(c>=C)e=Math.floor((f+L/2)/L)%A.length,d=A[e],c<=C+d.n&&(b=(f+L/2)%k,e=e*L+L/2,c=Math.atan2(x/2,c),b>=e-c&&b<=e+c&&(a=d));else if(c<=C-u-O/2&&(d=W[Math.floor((C-u-O/2-c)/O)+1]))a=d=ja(d,function(a){return f<a.left.a?-1:f>a.right.a?1:0})}if(a!=E)(E=a)?(h.style.cursor="pointer",h.title=
typeof E.value=="string"?E.value:E.group?E.count+" genomes in the family "+E.group.name:E.count+" genomes"):(h.style.cursor="default",h.title="")}return!1};h.D=function(){return!1};h.onmousewheel=function(a){if(!a)a=window.event;a.preventDefault();var b=F(h),c=H(h),d=a.clientX-(b.x-c.x)-i,b=a.clientY-(b.y-c.y)-j,a=a.wheelDelta,a=Math.max(o/G/m,a>=0?1+a/600:1/(1+-a/600));m*=a;l=l*a-d*(a-1);q=q*a-b*(a-1);a=G*m/2;d=Math.abs(i-a);a=Math.abs(j-a);l=Math.min(d,Math.max(-d,l));q=Math.min(a,Math.max(-a,q));
y.setAttribute("transform","translate("+l+", "+q+") scale("+m+") rotate("+p/Math.PI*180+")");g()};h.addEventListener("DOMMouseScroll",function(a){a.wheelDelta=a.detail*-40;h.onmousewheel(a)},!1);h.ontouchstart=function(a){if(a.touches.length==2){a.preventDefault();var b=a.touches[0],a=a.touches[1],c=F(h),d=H(h);M=b.clientX-(c.x-d.x)-i;K=b.clientY-(c.y-d.y)-j;D=a.clientX-(c.x-d.x)-i;Q=a.clientY-(c.y-d.y)-j;ca=l;da=q;ea=m;fa=p}};h.ontouchmove=function(a){if(a.touches.length==2){a.preventDefault();var b=
a.touches[0],a=a.touches[1];l=ca;q=da;m=ea;p=fa;var c=F(h),d=H(h),e=b.clientX-(c.x-d.x)-i,f=b.clientY-(c.y-d.y)-j,b=a.clientX-(c.x-d.x)-i,d=a.clientY-(c.y-d.y)-j,w=(M+D)/2,z=(K+Q)/2,a=(e+b)/2,c=(f+d)/2;l+=a-w;q+=c-z;var k=D-M,J=Q-K,e=b-e,f=d-f,e=Math.sqrt(e*e+f*f)/Math.sqrt(k*k+J*J);m*=e;l=l*e-a*(e-1);q=q*e-c*(e-1);b=Math.atan2(d-c,b-a)-Math.atan2(Q-z,D-w);e=l-a;f=q-c;l=a+e*Math.cos(b)-f*Math.sin(b);q=c+e*Math.sin(b)+f*Math.cos(b);p+=b;y.setAttribute("transform","translate("+l+", "+q+") scale("+m+
") rotate("+p/Math.PI*180+")");g()}};h.ontouchend=function(a){if(!(a.touches.length>=2)){m=Math.max(o/G,m);var b=G*m/2,a=Math.abs(i-b),b=Math.abs(j-b);l=Math.min(a,Math.max(-a,l));q=Math.min(b,Math.max(-b,q));y.setAttribute("transform","translate("+l+", "+q+") scale("+m+") rotate("+p/Math.PI*180+")");g();fa=ea=da=ca=Q=D=K=M=n}};e(n)};function ma(f){var a=this,b=document.createElement("div");b.style.display="table";var c=document.createElement("div");c.style.display="table-cell";b.appendChild(c);var g=document.createElement("div");g.style.display="table-cell";b.appendChild(g);var e=document.createElement("canvas");e.style.display="inline-block";e.style.border="1px solid black";e.setAttribute("width",128);e.setAttribute("height",32);c.appendChild(e);var d=document.createElement("div");d.style.width="32px";d.style.height="32px";
d.style.display="inline-block";d.style.border="1px solid transparent";g.appendChild(d);for(var k=n,i=n,j=n,c=e.getContext("2d"),g=0;g<32;g++)for(var o=0;o<128;o++)c.fillStyle=g<4?"hsl(0, 100%, 100%)":g>=28?"hsl(0, 100%, 0%)":"hsl("+o/128*360+", 100%, "+(24-(g-4))/24*100+"%)",c.fillRect(o,g,1,1);e.onmousemove=e.onmousedown=function(a){var b=F(e),c=H(e),f=a.clientX-(b.x-c.x),a=a.clientY-(b.y-c.y);a<4?(k=0,j=i=100):a>=28?(k=0,i=100,j=0):(k=f/128*360,i=100,j=(24-(a-4))/24*100);f="hsl("+k+", "+i+"%, "+
j+"%)";e.title=f;d.style.backgroundColor=f;d.style.borderColor="black"};e.onmouseout=function(){d.style.backgroundColor="";d.style.borderColor="transparent"};e.onclick=function(){if(a.onclick)a.onclick(k,i,j)};f.appendChild(b)};function na(f){var a=Math.PI/4,b=Math.sqrt(19.25),c=(1+b)/2,g=-b,e=-b,d=-c,k=-c,i=-b,j=-b,o=-b,x=-c,t=-c,u=-b,s=new I;s.beginPath();s.moveTo(0,g);s.arcTo(1,e,1,d,1);s.arcTo(1,-1,c,-1,0);s.arcTo(b,-1,b,0,1);s.arcTo(b,1,c,1,1);s.arcTo(1,1,1,c,0);s.arcTo(1,b,0,b,1);s.arcTo(-1,b,-1,c,1);s.arcTo(-1,1,k,1,0);s.arcTo(i,1,j,0,1);s.arcTo(o,-1,x,-1,1);s.arcTo(-1,-1,-1,t,0);s.arcTo(-1,u,0,g,1);s.closePath();b=s.toString();c=document.createElementNS("http://www.w3.org/2000/svg","svg");c.setAttribute("version",
"1.1");c.setAttribute("width","9px");c.setAttribute("height","9px");c.setAttribute("viewBox","-4.5 -4.5 9 9");this.view=c;g=document.createElementNS("http://www.w3.org/2000/svg","path");g.setAttribute("d",b);g.style.fill="black";a&&g.setAttribute("transform","rotate("+a/Math.PI*180+")");c.appendChild(g);f.appendChild(c)};function oa(f,a){var b=Math.sqrt(2),c=b/2,g=4.5-c,e=4.5-b,d=-4.5+b*2,k=(e+0)/2,i=(b+d)/2,j=-k,o=-e,x=-g,t=new I;t.beginPath();t.moveTo(-2.25,-2.25);t.arcTo(0,-4.5,2.25,-2.25,1);t.arcTo(4.5,0,g,c,1);t.arcTo(e,b,k,i,1);t.arcTo(0,d,j,i,0);t.arcTo(o,b,x,c,1);t.arcTo(-4.5,0,-2.25,-2.25,1);t.closePath();b=t.toString();c=document.createElementNS("http://www.w3.org/2000/svg","svg");c.setAttribute("version","1.1");c.setAttribute("width","9px");c.setAttribute("height","9px");c.setAttribute("viewBox","-4.5 -4.5 9 9");
this.view=c;g=document.createElementNS("http://www.w3.org/2000/svg","path");g.setAttribute("d",b);g.style.fill="black";a&&g.setAttribute("transform","rotate("+a/Math.PI*180+")");c.appendChild(g);f.appendChild(c)};function pa(f){var a=Math.PI/4,b=Math.sqrt(1.423828125),c=-b,b=-b,g=Math.sqrt(6.125),e=Math.asin(1/2.8125),d=Math.PI/2,k=a+e,e=a-e,i=a-d;a+=d;d=new I;d.beginPath();d.arc(c,b,2.8125,k,e,!1);d.arc(g,g,1,i,a,!1);d.closePath();c=d.toString();b=document.createElementNS("http://www.w3.org/2000/svg","svg");b.setAttribute("version","1.1");b.setAttribute("width","9px");b.setAttribute("height","9px");b.setAttribute("viewBox","-4.5 -4.5 9 9");this.view=b;g=document.createElementNS("http://www.w3.org/2000/svg",
"path");g.setAttribute("d",c);g.style.fill="black";b.appendChild(g);f.appendChild(b)};function qa(f,a){a||(a=24);var b=Math.PI*2/12,c=b/4*3/2,g=11*Math.sin(c),e=-g,c=11*Math.cos(c),d=Math.sqrt(576-g*g),k=(d+c)/2,i=new I;i.beginPath();i.moveTo(0,c);i.arcTo(g,c,g,k,g);i.arcTo(g,d,0,d,g);i.arcTo(e,d,e,k,g);i.arcTo(e,c,0,c,g);i.closePath();g=i.toString();e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("version","1.1");e.setAttribute("width",a+"px");e.setAttribute("height",a+"px");e.setAttribute("viewBox","-24 -24 48 48");e.style.width=a+"px";e.style.height=
a+"px";this.view=e;var j=document.createElementNS("http://www.w3.org/2000/svg","g");e.appendChild(j);for(var o=0;o<12;o++)c=o*b-Math.PI/2+b,d=document.createElementNS("http://www.w3.org/2000/svg","path"),d.setAttribute("d",g),d.setAttribute("transform","rotate("+c/Math.PI*180+")"),d.style.fill="black",d.style.fillOpacity=(32+128*(o/12))/255,j.appendChild(d);o=0;setInterval(function(){o=(o+1)%12;j.setAttribute("transform","rotate("+o*b/Math.PI*180+")")},100);f.appendChild(e)};function ra(f){var a=this,b=document.createElement("div");b.classList.add("contentSearchBoxView");b.style.display="none";a.view=b;var c=document.createElement("div");c.classList.add("contentSearchBoxCell");b.appendChild(c);a.w=j;var g=document.createElement("div");g.classList.add("contentSearchBoxCell");g.classList.add("contentSearchBoxLoadingCell");b.appendChild(g);a.p=g;var e=document.createElement("div");e.classList.add("contentSearchBoxCell");e.classList.add("contentSearchBoxButtonCell");b.appendChild(e);
a.H=e;var d=document.createElement("div");d.classList.add("contentSearchBoxCell");d.classList.add("contentSearchBoxButtonCell");b.appendChild(d);a.F=d;var k=document.createElement("div");k.classList.add("contentSearchBoxCell");k.classList.add("contentSearchBoxButtonCell");b.appendChild(k);a.B=k;var i=document.createElement("div");i.classList.add("contentSearchBoxCell");i.classList.add("contentSearchBoxButtonCell");b.appendChild(i);a.u=i;var j=document.createElement("input");j.setAttribute("type",
"text");j.classList.add("contentSearchBoxInput");c.appendChild(j);a.input=j;var o=document.createElement("div");o.classList.add("contentSearchBoxMatch");c.appendChild(o);a.match=o;c=new qa(g,15);a.z=c;c=new pa(e);a.I=c;c=new oa(d);a.G=c;c=new oa(k,Math.PI);a.C=c;c=new na(i);a.v=c;var x="",t=n;j.onkeydown=function(b){setTimeout(function(){var c=j.value;if(c==x)switch(b.keyCode){case 13:k.onclick();break;case 27:i.onclick()}else x=c,t!==n&&clearTimeout(t),t=setTimeout(function(){t=n;if(a.onchange)a.onchange(c)},
100)},0)};e.onclick=function(){if(a.onchange)a.onchange(j.value)};d.onclick=function(){a.l&&a.l()};k.onclick=function(){a.k&&a.k()};i.onclick=function(){b.style.display="none"};a.j=function(a){o.textContent=a};a.t=function(){b.style.display="";j.focus()};f.appendChild(b)};function sa(f){var a=document.createElement("div");a.classList.add("contextMenu");a.style.display="none";this.view=a;f.appendChild(a);this.c=function(){var b=document.createElement("div");b.classList.add("contextMenuItem");b.classList.add("contextMenuItemEnabled");a.appendChild(b);return b};this.i=function(){var b=document.createElement("hr");a.appendChild(b)}};window.GenomeWheelWidget=function(f,a,b){function c(a){a.length>140&&(a=a.substring(0,137)+"...");var b=document.createElement("div");b.textContent=a;s.appendChild(b)}function g(a){e(n,n,a)}function e(h,f,g){h===n&&(h=g);t.style.display="none";x.view.style.display="";if(g!==n){var r=typeof g;if(r=="string"){try{e(h!==g?h:n,f,JSON.parse(g));return}catch(s){c("Failed to parse as JSON: "+s.toString()+": "+g)}try{e(h,f,d(g.replace('xmlns="http://www.phyloxml.org"',"")));return}catch(C){c("Failed to parse as XML: "+
C.toString()+": "+g)}i(g,function(a){a.hasOwnProperty("error")?(c("It's not a working URL: "+a.error+": "+g),e(h,f,n)):e(h,f,a)});return}if(r=="object"){if(g.length==2)try{j(o,a,b,h,g,g,f);x.view.style.display="none";return}catch(u){c("Failed to load:"+u.toString())}if(!f&&g.hasOwnProperty&&g.hasOwnProperty("x")&&g.hasOwnProperty("y")&&g.hasOwnProperty("s")&&g.hasOwnProperty("r")&&g.hasOwnProperty("d")){e(h,g,g.d);return}try{e(h,f,k(g));return}catch(v){c("Failed to process as PhyloXML:"+v.toString())}}}c("Unable to load whatever that was.");
x.view.style.display="none";t.style.display=""}function d(a){if(window.ActiveXObject){if(a.indexOf("?xml")!==1)throw"not xml";var b=new ActiveXObject("Microsoft.XMLDOM");b.async="false";b.loadXML(a)}else if(b=(new DOMParser).parseFromString(a,"text/xml"),a=b.getElementsByTagName("parsererror"),a.length>0)throw a[0].textContent;return b}function k(a){var b=d('<?xml version="1.0" encoding="UTF-8"?><stylesheet version="1.0" xmlns="http://www.w3.org/1999/XSL/Transform"><output method="text"/><template match="/"><apply-templates select="phyloxml"/></template><template match="phyloxml"><apply-templates select="phylogeny"/></template><template match="phylogeny"><apply-templates select="clade"/></template><template match="clade"><if test="position()&gt;1"><text>,</text></if><choose><when test="name"><value-of select="concat(\'&quot;\', translate(translate(name, \'\\\', \'\\\\\'), \'&quot;\', \'\\&quot;\'), \'&quot;\')"/></when><otherwise><text>[</text><apply-templates select="clade"/><text>]</text></otherwise></choose></template></stylesheet>');
if(window.ActiveXObject)a=a.transformNode(b);else{var c=new XSLTProcessor;c.importStylesheet(b);a=c.transformToFragment(a,document)}return JSON.parse(a.textContent||a.toString())}function i(a,b){var c;c=new XMLHttpRequest;c.open("GET",a,!0);c.onprogress=function(){};c.ontimeout=function(){b({error:"timeout"})};c.onerror=function(){b({error:c.statusText})};c.onload=function(){var a;try{if(c.status!=200)throw c.statusText;a=c.responseText}catch(h){b({error:h});return}b(a)};c.send()}function j(a,b,c,
d,e,f,g){function i(a,b){a.view.style.fill=b;typeof a.value=="object"?(i(a.left,b),i(a.right,b)):a.o.style.fill=b}var k=document.createElement("div");k.style.position="relative";a.appendChild(k);var l=new la(k,b,c),j=new ra(k);j.p.style.display="none";j.view.style.position="absolute";j.view.style.right="4px";j.view.style.top="4px";var m=n;j.onchange=function(a){m=l.find(a);j.j(m.position+(m.b.length>0?1:0)+" of "+m.b.length);m.b.length>0&&l.f(m.b[m.position])};j.l=function(){if(m&&m.b.length>1)m.position=
(m.position+m.b.length-1)%m.b.length,l.f(m.b[m.position]),j.j(m.position+(m.b.length>0?1:0)+" of "+m.b.length)};j.k=function(){if(m&&m.b.length>1)m.position=(m.position+1)%m.b.length,l.f(m.b[m.position]),j.j(m.position+(m.b.length>0?1:0)+" of "+m.b.length)};var p=new sa(k);l.setData(f);g&&l.f(g);var o=n;l.onclick=function(a,b,c){o=b;a=o.value;p.view.style.display="";var b=F(l.h),d=H(l.h),e=c.clientY-(b.y-d.y);p.view.style.left=c.clientX-(b.x-d.x)+"px";p.view.style.top=e+"px";t.classList.remove("contextMenuItemDisabled");
t.classList.add("contextMenuItemEnabled");r.classList.remove("contextMenuItemDisabled");r.classList.add("contextMenuItemEnabled");u.classList.remove("contextMenuItemDisabled");u.classList.add("contextMenuItemEnabled");v.classList.remove("contextMenuItemDisabled");v.classList.add("contextMenuItemEnabled");typeof a=="object"&&a.length==2?(s.classList.remove("contextMenuItemDisabled"),s.classList.add("contextMenuItemEnabled")):(s.classList.remove("contextMenuItemEnabled"),s.classList.add("contextMenuItemDisabled"))};
a=p.c();a.textContent="Reroot";var r=a;a.onmouseup=function(){if(o){for(var a=[],b=o,c;c=b.parent;){if(b===c.left)a[a.length]=0;else if(b===c.right)a[a.length]=1;else throw"not a child of parent";b=c}a=a.reverse();b=b.value;c=0;for(var d=a.length-1;c<d;){var e=a[c++],g=a[c],h=1-e,i=1-g,j=[];j[e]=b[e][i];j[h]=b[h];h=[];h[g]=b[e][g];h[i]=j;b=h}f=b;a=l.g();l.setData(f);l.f(a)}};a=p.c();a.textContent="Make Root Node";var t=a;a.onmouseup=function(){if(o)f=o.value,l.setData(f)};a=p.c();a.textContent="Swap Child Nodes";
var s=a;a.onmouseup=function(){if(o){var a=o.value,b=a[0];a[0]=a[1];a[1]=b;a=l.g();l.setData(f);l.f(a)}};p.i();a=p.c();a.textContent="Reset Tree";a.onmouseup=function(){f=e;l.setData(f)};a=p.c();a.textContent="Find";a.onmouseup=j.t;p.i();a=p.c();a.textContent="View Tree in New Tab";a.onmouseup=function(){var a;a=d!=n&&typeof d=="string"&&f===e?d:f;var b=l.g();b.d=a;a="http://intranet.rtg.18londonst.co.nz/wol/#"+escape(JSON.stringify(b));window.open(a)};a=p.c();a.textContent="Copy Tree Address";
a.onmouseup=function(){var a;a=d!=n&&typeof d=="string"&&f===e?d:f;var b=l.g();b.d=a;a="http://intranet.rtg.18londonst.co.nz/wol/#"+escape(JSON.stringify(b));b=document.createElement("a");b.href=a;a=b.href;prompt("Copy it yourself. Here's the address:",a)};a=p.c();a.textContent="View Tree Source";a.onmouseup=function(){for(var a="",g=document.body.parentNode.getElementsByTagName("script"),h=0,i=g.length;h<i;h++){var j=g[h].src;if(j.indexOf("GenomeWheelWidget")>=0||j.indexOf("classList")>=
0)a+='<script type="application/javascript" src="'+j+'"><\/script>\r\n'}d!=n&&typeof d=="string"&&f===e?(g=document.createElement("a"),g.href=d,g=g.href):g=f;h=l.g();h.d=g;a+='<script type="application/javascript">\r\n  var widget = new GenomeWheelWidget(\r\n    document.body, //where to add the widget\r\n    '+b+", //width of the widget\r\n    "+c+" //height of the widget\r\n  );\r\n  widget.setData(\r\n    "+JSON.stringify(h)+" //tree as nested arrays, url of phyloxml file or object with translation, scaling, rotation and data\r\n  );\r\n<\/script>\r\n";
g=window.open();g.document.title="Genome Wheel Embeddable HTML";g.document.body.style.whiteSpace="pre";g.document.body.textContent=a};p.i();a=p.c();a.appendChild(document.createTextNode("Set Foreground Color"));a.appendChild(document.createElement("br"));var u=a,a=new ma(a);a.onclick=function(a,b,c){o&&i(o,"hsl("+a+", "+b+"%, "+c+"%)")};a=p.c();a.textContent="Reset Foreground Color";a.style.display="none";var v=a,a=p.c();a.appendChild(document.createTextNode("Set Background Color"));a.appendChild(document.createElement("br"));
a=new ma(a);a.onclick=function(a,b,c){l.m.style.backgroundColor="hsl("+a+", "+b+"%, "+c+"%)"};a=p.c();a.textContent="Reset Background Color";a.onmouseup=function(){l.m.style.backgroundColor=""};a.style.display="none";l.oncontextmenu=function(a){o=n;p.view.style.display="";var b=F(l.h),c=H(l.h),d=a.clientY-(b.y-c.y);p.view.style.left=a.clientX-(b.x-c.x)+"px";p.view.style.top=d+"px";t.classList.remove("contextMenuItemEnabled");t.classList.add("contextMenuItemDisabled");r.classList.remove("contextMenuItemEnabled");
r.classList.add("contextMenuItemDisabled");u.classList.remove("contextMenuItemEnabled");u.classList.add("contextMenuItemDisabled");v.classList.remove("contextMenuItemEnabled");v.classList.add("contextMenuItemDisabled");s.classList.remove("contextMenuItemEnabled");s.classList.add("contextMenuItemDisabled")};l.e=function(){p.view.style.display="none"}}var o=document.createElement("div");o.style.width=a+"px";o.style.height=b+"px";o.style.position="relative";var x=new qa(o);x.view.style.display="none";
x.view.style.position="absolute";x.view.style.left="50%";x.view.style.top="50%";x.view.style.marginLeft="-20px";x.view.style.marginTop="-20px";var t=document.createElement("div");t.classList.add("genomeWheelWidgetContainer");o.appendChild(t);var u=document.createElement("div");u.classList.add("genomeWheelWidgetContent");t.appendChild(u);var s=document.createElement("div");s.classList.add("genomeWheelWidgetError");u.appendChild(s);var v=document.createElement("textarea");v.classList.add("genomeWheelWidgetOmnibox");
u.appendChild(v);var r=document.createElement("div");r.style.display="table";r.style.width="100%";u.appendChild(r);u=document.createElement("div");u.classList.add("genomeWheelWidgetInstructions");u.textContent="Enter( a URL of)* JSON or PhyloXML above and then click Load.";r.appendChild(u);u=document.createElement("div");u.style.display="table-cell";r.appendChild(u);r=document.createElement("button");r.textContent="Load";u.appendChild(r);f.appendChild(o);v.focus();r.onclick=function(){g(v.value)};
this.setOmniboxValue=function(a){v.value=a};this.setData=g};
      
      var widget = new GenomeWheelWidget(document.body, document.body.offsetWidth, document.body.offsetHeight);
      widget.setData(data);
    </script>
    </div>
  </body>
</html>
